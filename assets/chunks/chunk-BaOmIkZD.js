import{_ as F,aP as h,d as S,aQ as C,u as T,aR as W,aS as q,j as I,aT as L,c as E,o as y,w as f,b as Q,e as X,a as m,m as b,aU as O,aV as _,aW as Y,aX as N,aY as j,g as d,aZ as Z,a_ as G,a$ as J,b0 as $,t as w}from"./chunk-D28Ltzg9.js";const v={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(l=>["ascending","descending",null].includes(l))}},z=h(v);var V=Object.freeze({__proto__:null,createTableColumnBindProps:z,tableColumnProps:v});const ee={...v,source:{type:Array,default:()=>[]}};var te=S({name:"VkTableColumns",components:{ElTableColumn:C},props:ee,setup(t){const l=z(t);return()=>{const o=(e=t.source)=>e.reduce((r,n)=>{if(T(n.hidden))return r;let s={};W(n.slots)&&(s=n.slots),typeof n.slots=="function"&&(s.default=n.slots),n.children&&(s.default=()=>o(n.children));const u={key:n.prop,...l.value,...q(n,{excludes:["children","slots"]})};return Object.keys(u).forEach(i=>{(u[i]===void 0||u[i]===null||u[i]==="")&&Reflect.deleteProperty(u,i)}),r.push(I(C,u,s)),r},[]);return o(t.source)}}}),p=F(te,[["__file","/home/runner/work/vunk-plus/vunk-plus/packages/components/table-columns/src/index.vue"]]);p.install=t=>{t.component(p.name,p)};function ne(){const t=L({sm:768,md:992,lg:1200,xl:1920}),l=t.smaller("lg"),o=t.greaterOrEqual("lg");return{breakpoints:t,isMobile:l,isDesktop:o}}const ae={data:{type:Array,default:()=>[]},size:$,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}},A={select:null,"select-all":null,"selection-change":null,"cell-mouse-enter":null,"cell-mouse-leave":null,"cell-contextmenu":null,"cell-click":null,"cell-dblclick":null,"row-click":null,"row-contextmenu":null,"row-dblclick":null,"header-click":null,"header-contextmenu":null,"sort-change":null,"filter-change":null,"current-change":null,"header-dragend":null,"expand-change":null,scroll:null},le=j(A),re=h(N),oe=j(_),R=Y(ae,{excludes:["style","className"]}),se=h(R),ue={...V.tableColumnProps,...N,...R,border:{type:Boolean,default:!0},tableClass:{type:String,default:""},tableStyle:{type:Object,default:void 0},layout:{type:String,default:void 0},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},start:{type:Number,default:void 0},columns:{type:Array,default:()=>[]},modules:{type:Array,default:()=>["pagination"]},align:{type:String,default:"center"},headerAlign:{type:String,default:"center"},elRef:{type:Function,default:void 0},duplexFull:{type:Boolean,default:!0}},ie={..._,...A,"update:start":t=>typeof t=="number"};var ce=S({name:"VkTablesV1",__name:"index",props:ue,emits:ie,setup(t,{expose:l,emit:o}){l();const e=t,r=o,n=Z,a=re(e,["layout","currentPage"]),s=oe(r,["update:current-page"]),u=V.createTableColumnBindProps(e),i=se(e),M=le(r),{isMobile:P}=ne(),D=d(()=>e.modules.includes("pagination")),k=d({get:()=>e.start!==void 0?Math.floor(e.start/e.pageSize)+1:e.currentPage,set:c=>{r("update:current-page",c),x({currentPage:c})}});function x(c){const U=c.currentPage??k.value,K=c.pageSize??e.pageSize;r("update:start",(U-1)*K)}const H=d(()=>e.layout?e.layout:P.value?"total, prev, pager, next":"total, sizes, prev, pager, next, jumper"),B={props:e,emit:r,ElTable:n,paginationBindProps:a,paginationOnEmits:s,columnsProps:u,tableProps:i,tableOnEmits:M,isMobile:P,hasPagination:D,theCurrentPage:k,updateStart:x,layout:H,get VkTableColumns(){return p},get VkDuplexCalc(){return J},get ElPagination(){return G}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}});const de={key:0,class:"vk-tables-v1-pagination-x"};function pe(t,l,o,e,r,n){return y(),E(e.VkDuplexCalc,{class:"vk-tables-v1","with-resize":"one",gap:"var(--vk-tables-v1-gap, 14px)",full:t.duplexFull},{one:f(({resizeElementClientMaxHeight:a})=>[m(e.ElTable,b(e.tableProps,{ref:t.elRef,style:t.tableStyle,"max-height":t.duplexFull?e.tableProps.maxHeight:a,"class-name":`vk-tables-v1-table ${t.tableClass}`},O(e.tableOnEmits)),{default:f(()=>[m(e.VkTableColumns,b(e.columnsProps,{source:t.columns}),null,16,["source"])]),_:2},1040,["style","max-height","class-name"])]),default:f(()=>[e.hasPagination?(y(),Q("div",de,[m(e.ElPagination,b(e.paginationBindProps,{"current-page":e.theCurrentPage,"onUpdate:currentPage":l[0]||(l[0]=a=>e.theCurrentPage=a),layout:e.layout},O(e.paginationOnEmits),{"onUpdate:pageSize":l[1]||(l[1]=a=>e.updateStart({pageSize:a}))}),null,16,["current-page","layout"])])):X("v-if",!0)]),_:1},8,["full"])}var g=F(ce,[["render",pe],["__file","/home/runner/work/vunk-plus/vunk-plus/packages/components/tables-v1/src/index.vue"]]);g.install=t=>{t.component(g.name||"VkTablesV1",g)};const fe=S({__name:"tables",props:{data:{type:Array,default:()=>[]}},setup(t){const l=t,o=w(1),e=w(5),r=d(()=>{const n=(o.value-1)*e.value,a=n+e.value;return l.data.slice(n,a)});return(n,a)=>(y(),E(T(g),{"current-page":o.value,"onUpdate:currentPage":a[0]||(a[0]=s=>o.value=s),"page-size":e.value,"onUpdate:pageSize":a[1]||(a[1]=s=>e.value=s),data:r.value,background:!0,total:t.data.length,"duplex-full":!1},null,8,["current-page","page-size","data","total"]))}});export{fe as _};
