import{n as y}from"./chunk-3vKLvUex.js";import{ae as H,x as C}from"./chunk-DT3qbBkM.js";import{g as W}from"./chunk-B6F1jVcj.js";import{n as h}from"./chunk-zF63Du43.js";import{e as w}from"./chunk-D3wWHKrZ.js";/*! All material copyright ESRI, All Rights Reserved, unless otherwise specified.
See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.
v3.1.0 */const L=2,d=e=>e.reduce((t,o)=>t+o,0)/e.length,B=e=>{const t=e.filter(n=>n.slot!==h.menuActions),o=t?.length;return{actionWidth:o?d(t.map(n=>n.clientWidth||0)):0,actionHeight:o?d(t.map(n=>n.clientHeight||0)):0}},q=({width:e,actionWidth:t,layout:o,height:n,actionHeight:c,groupCount:i})=>{const l=o==="horizontal"?e:n,r=o==="horizontal"?t:c;return Math.floor((l-i*L)/r)},D=({layout:e,actionCount:t,actionWidth:o,width:n,actionHeight:c,height:i,groupCount:l})=>Math.max(t-q({width:n,actionWidth:o,layout:e,height:i,actionHeight:c,groupCount:l}),0),m=e=>Array.from(e.querySelectorAll("calcite-action")).filter(t=>t.closest("calcite-action-menu")?t.slot===w.trigger:!0),I=({actionGroups:e,expanded:t,overflowCount:o})=>{let n=o;e.reverse().forEach(c=>{let i=0;const l=m(c).reverse();l.forEach(r=>{r.slot===h.menuActions&&(r.removeAttribute("slot"),r.textEnabled=t)}),n>0&&l.some(r=>(l.filter(s=>!s.slot).length>1&&l.length>2&&!r.closest("calcite-action-menu")&&(r.textEnabled=!0,r.setAttribute("slot",h.menuActions),i++,i>1&&n--),n<1)),c.manager.component.requestUpdate()})},g={chevronsLeft:"chevrons-left",chevronsRight:"chevrons-right"};function S(e,t){return e||t.closest("calcite-shell-panel")?.position||"start"}function N({el:e,expanded:t}){m(e).filter(o=>o.slot!==h.menuActions).forEach(o=>o.textEnabled=t),e.querySelectorAll("calcite-action-group, calcite-action-menu").forEach(o=>o.expanded=t)}const k=({tooltip:e,referenceElement:t,expanded:o,ref:n})=>(e&&(e.referenceElement=!o&&t?t:null),n&&n(t),t),O=({expanded:e,expandText:t,collapseText:o,expandLabel:n,collapseLabel:c,toggle:i,el:l,position:r,tooltip:s,ref:f,scale:x})=>{const E=W(l)==="rtl",u=e?o:t,v=e?c:n,a=[g.chevronsLeft,g.chevronsRight];E&&a.reverse();const p=S(r,l)==="end",$=p?a[1]:a[0],A=p?a[0]:a[1];return C`<calcite-action .icon=${e?$:A} id=expand-toggle .label=${v} @click=${i} .scale=${x} .text=${u} .textEnabled=${e} title=${(!e&&!s?u:null)??H} ${y(b=>k({tooltip:s,referenceElement:b,expanded:e,ref:f}))}></calcite-action>`};export{m as A,N as B,B as D,O as G,D as H,I as k};
