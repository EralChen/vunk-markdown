import{u as n}from"./chunk-QwgNPJGT.js";import{e as l}from"./chunk-hDmnvnqW.js";import"./chunk-BU9ye7sd.js";import"./chunk-CxUoqtmM.js";import"./chunk-RlmIMeXG.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */let e,i;async function tt(s){if(await c(),s.inputs.length<1)return{result:{status:n.Failed,error:"",jobDescJson:"",data:new Uint8Array(0),missingInputUrls:[]},transferList:[]};const o={ptrs:[],sizes:[]};for(const t of s.inputs){const u=i._malloc(t.byteLength);new Uint8Array(i.HEAPU8.buffer,u,t.byteLength).set(new Uint8Array(t)),o.ptrs.push(u),o.sizes.push(t.byteLength)}const r=i.process(s.jobDescJson,o,s.isMissingResourceCase),m=r.status===n.Succeeded&&r.data,a=r.status===n.MissingInputs&&r.missingInputUrls.length>0;if(m){const t=r.data.slice();r.data=t}else a&&(r.jobDescJson=r.jobDescJson.slice(),r.originalInputs=s.inputs.slice());for(let t=0;t<o.ptrs.length;++t)i._free(o.ptrs[t]);const p=[];if(m)p.push(r.data.buffer);else if(a)for(const t of s.inputs)p.push(t);return{result:r,transferList:p}}function rt(){i&&(i.uninitialize_lyr3d_worker_wasm(),i=null)}function c(){return i?Promise.resolve():(e||(e=l().then(s=>{i=s,i.initialize_lyr3d_worker_wasm(),e=null})),e)}export{rt as destroyWasm,c as initialize,tt as process};
