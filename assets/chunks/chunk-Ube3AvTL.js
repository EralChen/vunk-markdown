import{c as j}from"./chunk-DeQ1c-zB.js";import{u as w,p as u,s as _}from"./chunk-H0n7kLGv.js";import{d as h,b as m,e as l,f as d,g as i,h as v,t as k,aw as E,ax as T,a as r}from"./chunk-Cokl53l_.js";import{j as V}from"./chunk-SqlbPPT2.js";/* empty css              */const b=h({props:{source:{type:Array,default:()=>[]}},setup(t){const s=w(),e=m();l(async()=>{d(t.source),await i();const a=t.source.find(f=>f.info?.includes("yaml")||f.info?.includes("json"));e.value=a});const c=v(()=>e.value?.info.includes("json")?e.value.content:""),o=m({});l(async()=>{d(c.value),await i();try{o.value=u(c.value)}catch{try{const a=V(c.value);o.value=u(a)}catch{}}});const n=v(()=>{if(!e.value)return{};try{if(e.value.info.includes("json"))return o.value;if(e.value.info.includes("yaml"))return u(e.value.content)}catch{return{}}return{}}),y=k(a=>{try{s.setOption(a,!0)}catch{}},900,{trailing:!0});return l(()=>{!n.value||!E(n.value)||T(n.value)||i(()=>{y(n.value)})}),()=>null}}),O={modelValue:{type:Object,default:()=>({})}},x={},p=h({name:"VkTemplateEcharts",props:O,emits:x,setup(){return()=>r(j,{type:"container:echarts"},{default:t=>{const s=t.raw.children;return r("div",{class:"vk-template-echarts__wrapper"},[r(_,null,{default:()=>[r(b,{source:s},null)]})])}})}});p.install=t=>{t.component(p.name||"VkTemplateEcharts",p)};export{p as _};
