import{b7 as h,_ as w,d as S,b8 as B,u as E,b9 as W,ba as q,j as I,bb as L,r as G,c as T,o as y,w as g,b as J,e as Q,a as b,m as f,bc as O,bd as _,be as X,bf as N,bg as j,g as d,bh as Y,bi as Z,bj as $,bk as ee,t as F}from"./chunk-Dpk1TJd9.js";const v={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(l=>["ascending","descending",null].includes(l))}},z=h(v);var V=Object.freeze({__proto__:null,createTableColumnBindProps:z,tableColumnProps:v});const te={...v,source:{type:Array,default:()=>[]}};var ne=S({name:"VkTableColumns",components:{ElTableColumn:B},props:te,setup(t){const l=z(t);return()=>{const o=(e=t.source)=>e.reduce((r,n)=>{if(E(n.hidden))return r;let a={};W(n.slots)&&(a=n.slots),typeof n.slots=="function"&&(a.default=n.slots),n.children&&(a.default=()=>o(n.children));const u={key:n.prop,...l.value,...q(n,{excludes:["children","slots"]})};return Object.keys(u).forEach(i=>{(u[i]===void 0||u[i]===null||u[i]==="")&&Reflect.deleteProperty(u,i)}),r.push(I(B,u,a)),r},[]);return o(t.source)}}}),m=w(ne,[["__file","D:\\labCode\\vunk-plus\\packages\\components\\table-columns\\src\\index.vue"]]);m.install=t=>{t.component(m.name,m)};function ae(){const t=L({sm:768,md:992,lg:1200,xl:1920}),l=t.smaller("lg"),o=t.greaterOrEqual("lg");return{breakpoints:t,isMobile:l,isDesktop:o}}const le={data:{type:Array,default:()=>[]},size:ee,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}},A={select:null,"select-all":null,"selection-change":null,"cell-mouse-enter":null,"cell-mouse-leave":null,"cell-contextmenu":null,"cell-click":null,"cell-dblclick":null,"row-click":null,"row-contextmenu":null,"row-dblclick":null,"header-click":null,"header-contextmenu":null,"sort-change":null,"filter-change":null,"current-change":null,"header-dragend":null,"expand-change":null,scroll:null},re=j(A),oe=h(N),se=j(_),M=X(le,{excludes:["style","className"]}),ue=h(M),ie={...V.tableColumnProps,...N,...M,border:{type:Boolean,default:!0},tableClass:{type:String,default:""},tableStyle:{type:Object,default:void 0},layout:{type:String,default:void 0},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},start:{type:Number,default:void 0},columns:{type:Array,default:()=>[]},modules:{type:Array,default:()=>["pagination"]},align:{type:String,default:"center"},headerAlign:{type:String,default:"center"},elRef:{type:Function,default:void 0},duplexFull:{type:Boolean,default:!0}},ce={..._,...A,"update:start":t=>typeof t=="number"};var de=S({name:"VkTablesV1",__name:"index",props:ie,emits:ce,setup(t,{expose:l,emit:o}){l();const e=t,r=o,n=Y,s=oe(e,["layout","currentPage"]),a=se(r,["update:current-page"]),u=V.createTableColumnBindProps(e),i=ue(e),R=re(r),{isMobile:P}=ae(),D=d(()=>e.modules.includes("pagination")),C=d({get:()=>e.start!==void 0?Math.floor(e.start/e.pageSize)+1:e.currentPage,set:c=>{r("update:current-page",c),k({currentPage:c})}});function k(c){const K=c.currentPage??C.value,U=c.pageSize??e.pageSize;r("update:start",(K-1)*U)}const H=d(()=>e.layout?e.layout:P.value?"total, prev, pager, next":"total, sizes, prev, pager, next, jumper"),x={props:e,emit:r,ElTable:n,paginationBindProps:s,paginationOnEmits:a,columnsProps:u,tableProps:i,tableOnEmits:R,isMobile:P,hasPagination:D,theCurrentPage:C,updateStart:k,layout:H,get VkDuplexCalc(){return $},get ElPagination(){return Z}};return Object.defineProperty(x,"__isScriptSetup",{enumerable:!1,value:!0}),x}});const pe={key:0,class:"vk-tables-v1-pagination-x"};function ge(t,l,o,e,r,n){const s=G("VkTableColumns");return y(),T(e.VkDuplexCalc,{class:"vk-tables-v1","with-resize":"one",gap:"var(--vk-tables-v1-gap, 14px)",full:t.duplexFull},{one:g(({resizeElementClientMaxHeight:a})=>[b(e.ElTable,f(e.tableProps,{ref:t.elRef,style:t.tableStyle,"max-height":t.duplexFull?e.tableProps.maxHeight:a,"class-name":`vk-tables-v1-table ${t.tableClass}`},O(e.tableOnEmits)),{default:g(()=>[b(s,f(e.columnsProps,{source:t.columns}),null,16,["source"])]),_:2},1040,["style","max-height","class-name"])]),default:g(()=>[e.hasPagination?(y(),J("div",pe,[b(e.ElPagination,f(e.paginationBindProps,{"current-page":e.theCurrentPage,"onUpdate:currentPage":l[0]||(l[0]=a=>e.theCurrentPage=a),layout:e.layout},O(e.paginationOnEmits),{"onUpdate:pageSize":l[1]||(l[1]=a=>e.updateStart({pageSize:a}))}),null,16,["current-page","layout"])])):Q("v-if",!0)]),_:1},8,["full"])}var p=w(de,[["render",ge],["__file","D:\\labCode\\vunk-plus\\packages\\components\\tables-v1\\src\\index.vue"]]);p.install=t=>{t.component(p.name||"VkTablesV1",p)};const fe=S({__name:"tables",props:{data:{type:Array,default:()=>[]}},setup(t){const l=t,o=F(1),e=F(5),r=d(()=>{const n=(o.value-1)*e.value,s=n+e.value;return l.data.slice(n,s)});return(n,s)=>(y(),T(E(p),{"current-page":o.value,"onUpdate:currentPage":s[0]||(s[0]=a=>o.value=a),"page-size":e.value,"onUpdate:pageSize":s[1]||(s[1]=a=>e.value=a),data:r.value,background:!0,total:t.data.length,"duplex-full":!1},null,8,["current-page","page-size","data","total"]))}});export{fe as _};
