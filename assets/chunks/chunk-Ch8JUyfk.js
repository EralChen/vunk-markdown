const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-XGpVqsM_.js","assets/chunks/chunk-DyqHK6XP.js","assets/chunks/chunk-Dix477Sg.js","assets/static/onCreateApp.DRclb75I.css","assets/static/src_layouts_default_aside-6ea01de8.BjbON5Ij.css","assets/static/src_layouts_default_navbar-403af73f.u3IytZI2.css","assets/static/vitepress_components_VPDocOutlineItem-0942cada.tkRPm3MX.css","assets/static/vitepress_components_VPDocAsideOutline-b0d47973.Ds9uynvM.css","assets/static/src_styles_common_reset-f7a68b0e.BAKp5MHC.css","assets/static/src_styles_common_color-a7a524c7.CVau4Kly.css","assets/static/src_styles_common_is-19c6c24d.DKAKruk7.css","assets/static/style-bd199161.DVw0mqUT.css","assets/static/style-ee024ed9.COZrvgTQ.css","assets/static/src_styles_element-plus_reset-752cc03d.htEpr2M-.css","assets/static/src_styles_element-plus_form-item-877afd6a.Dy4HJB2K.css","assets/static/src_styles_element-plus_table-6cbc5816.DXG1SsxY.css","assets/static/src_styles_element-plus_tabs-67d1a98b.BMDMQPDv.css","assets/static/src_styles_element-plus_tree-cc28503d.nmT5n0wM.css","assets/static/src_styles_element-plus_dialog-7f91a00e.D4nTsJge.css","assets/static/src_styles_element-plus_breadcrumb-8ce3a1a1.CwEEGJYc.css","assets/static/src_styles_element-plus_menu-33b44202.hFAFO4eV.css","assets/static/style-769e248f.DDhCRjCR.css","assets/static/style-22d30bfc.TwvRHEyK.css","assets/static/style-d089cd8f.Cc2PI5FU.css","assets/static/style-e86a26b0.CqxSaK_p.css","assets/static/style-51eec318.o0zCZ1y4.css","assets/static/src_styles_form_sub-7371c85e.y3zh-mS3.css","assets/static/src_styles_layout_index-2891f17b.BNCqvENj.css","assets/static/style-ab3e4bd5.BuWAVw4m.css","assets/static/style-2bf8ed1f.CRScSR0a.css","assets/static/style-603b4474.BZwgKm1s.css","assets/static/style-c5252da0.CFNWXuiE.css","assets/static/style-6fd0e256.X9gIGpBH.css","assets/static/style-3c45b3af.Di2LGzYR.css","assets/static/style-27a3a9b4.C8H6Fcyw.css","assets/static/src_styles_markdown_reset-fbd16bdd.D3vNaEcf.css","assets/static/src_styles_markdown_shiki-0d2326df.uut6VZYd.css","assets/static/style-b2fddf65.BmytK7dW.css","assets/static/style-2208d37a.ChwmoEkt.css","assets/static/pages_uno-88a4f3d7.lpyrja-g.css","assets/chunks/chunk-CrMA_peF.js"])))=>i.map(i=>d[i]);
import{_ as g}from"./chunk-Dix477Sg.js";import{dG as b,dF as C,bO as I,dK as y,dL as E,rB as V,L as N,au as c,rC as $}from"./chunk-XGpVqsM_.js";const x=/^-?(\d+)(\.(\d+))?$/i;function R(t,e){return t-e}function U(t,e){let n,l;return n=Number(t.toFixed(e)),n<t?l=n+1/10**e:(l=n,n-=1/10**e),n=Number(n.toFixed(e)),l=Number(l.toFixed(e)),[n,l]}function O(t,e,n,l,o){const a=_(t,e,n,l),i=a.previous==null||a.previous<=o,r=a.next==null||a.next<=o;return i&&r||a.previous+a.next<=2*o}function w(t){const e=String(t),n=e.match(x);if(n?.[1])return{integer:n[1].split("").length,fractional:n[3]?n[3].split("").length:0};if(e.toLowerCase().includes("e")){const l=e.split("e"),o=l[0],a=l[1];if(o&&a){const i=Number(o);let r=Number(a);const u=r>0;u||(r=Math.abs(r));const s=w(i);return u?(s.integer+=r,r>s.fractional?s.fractional=0:s.fractional-=r):(s.fractional+=r,r>s.integer?s.integer=1:s.integer-=r),s}}return{integer:0,fractional:0}}function _(t,e,n,l){const o={previous:null,next:null};if(n!=null){const a=t-n,i=e-n-a;o.previous=Math.floor(Math.abs(100*i/a))}if(l!=null){const a=l-t,i=l-e-a;o.next=Math.floor(Math.abs(100*i/a))}return o}function P(t,e={}){const n=t.slice(),{tolerance:l=2,strictBounds:o=!1,indexes:a=n.map(((i,r)=>r))}=e;a.sort(R);for(let i=0;i<a.length;i++){const r=a[i],u=n[r],s=r===0?null:n[r-1],A=r===n.length-1?null:n[r+1],f=w(u).fractional;if(f){let p,m=0,d=!1;for(;m<=f&&!d;){const h=U(u,m);p=o&&i===0?h[1]:h[0],d=O(u,p,s,A,l),m++}d&&(n[r]=p)}}return n}const B={maximumFractionDigits:20};function M(t){return b(t,B)}const T="<",F=">";function L(t,e,n,l){let o="";return e===0?o=`${T} `:e===n&&(o=`${F} `),o+(l?C(t,l):M(t))}const H=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwcdIkqhiWn5fHwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6JrzFUAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwaeIkqhiWl5/HwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu6sKxboAAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAAAAAAAAAHqZRakAAAANUlEQVQ4jWPMy8v7z0BFwMLAwMAwadJEqhiWl5fPwEQVk5DAqIGjBo4aOGrgqIEQwEjtKgAATl0Hu75+IUcAAAAASUVORK5CYII="];async function Q(t){if(!("visualVariables"in t)||!t.visualVariables)return null;const e=t.visualVariables.find((i=>i.type==="color"));if(!e)return null;let n=null,l=null;if(e.stops){if(e.stops.length===1)return e.stops[0].color;n=e.stops[0].value,l=e.stops[e.stops.length-1].value}const o=n!=null&&l!=null?n+(l-n)/2:0,{getColor:a}=await g(async()=>{const{getColor:i}=await import("./chunk-XGpVqsM_.js").then(r=>r.N4);return{getColor:i}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]));return a(e,o)??null}async function Z(t,e){const n=t.trailCap,l=t.trailWidth||1,o=e||await Q(t)||t.color;return new I({cap:n,color:o,width:l})}function q(t,e){if(!e.field)return null;if("featureReduction"in t)switch(t.featureReduction?.type){case"cluster":case"binning":{const n=t.featureReduction.fields.find((({name:l})=>l.toLowerCase()===e.field.toLowerCase()));return n&&"getField"in t?t.getField(n.onStatisticField):null}}return"getField"in t?t.getField?.(e.field):null}function k(t,e){const n="popupTemplate"in t?t.popupTemplate?.fieldInfos:null;if(n?.length&&e)return n.find((l=>l.fieldName?.toLowerCase()===e.toLowerCase()))?.format?.dateFormat}function z(t,e,n){const l=q(t,e);if(!l||!y(l)&&!E(l))return null;let o=k(t,l.name);if(!o&&l.type==="date"){let a=0,i=0;e.stops?(a=e.stops?.at(0)?.value??a,i=e.stops?.at(-1)?.value??i):"minDataValue"in e&&"maxDataValue"in e&&(a=e.minDataValue??a,i=e.maxDataValue??i),o=i-a>2*V.days?"short-date":"short-date-short-time"}return{fieldType:l.type,format:o,timeZoneOptions:{layerTimeZone:"preferredTimeZone"in t?t.preferredTimeZone:null,viewTimeZone:n,datesInUnknownTimezone:"datesInUnknownTimezone"in t&&t.datesInUnknownTimezone}}}function X(t,e){if("authoringInfo"in t)return t.authoringInfo?.visualVariables?.find((({theme:n})=>n===e))}const D=new c([64,64,64]);function v(t,e){const n=[],l=t.length-1;return t.length===5?n.push(0,2,4):n.push(0,l),t.map(((o,a)=>n.includes(a)?L(o,a,l,e):null))}async function Y(t,e,n){let l=!1,o=[],a=[];if(t.stops){const s=t.stops;o=s.map((A=>A.value)),l=s.some((A=>!!A.label)),l&&(a=s.map((A=>A.label)))}const i=o[0],r=o[o.length-1];if(i==null&&r==null)return null;const u=l?null:v(o,n);return(await Promise.all(o.map((async(s,A)=>{const f=t.type==="opacity"?await K(s,t,e):(await g(async()=>{const{getColor:m}=await import("./chunk-XGpVqsM_.js").then(d=>d.N4);return{getColor:m}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]))).getColor(t,s),p=l?a[A]:u?.[A]??"";return f==null?null:{value:s,color:f,label:p}})))).filter(N).reverse()}async function K(t,e,n){const l=new c(n??D),o=(await g(async()=>{const{getOpacity:a}=await import("./chunk-XGpVqsM_.js").then(i=>i.N4);return{getOpacity:a}},__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40]))).getOpacity(e,t);return o!=null&&(l.a=o),l}function J(t){let e=!1,n=[],l=[];n=t.map((r=>r.value)),e=t.some((r=>!!r.label)),e&&(l=t.map((r=>r.label??"")));const o=n[0],a=n[n.length-1];if(o==null&&a==null)return null;const i=e?null:v(n);return n.map(((r,u)=>({value:r,color:G(r,t),label:e?l[u]:i?.[u]??""}))).reverse()}function G(t,e){const{startIndex:n,endIndex:l,weight:o}=S(t,e);if(n===l)return e[n].color;const a=c.blendColors(e[n].color,e[l].color,o);return new c(a)}function S(t,e){let n=0,l=e.length-1;return e.some(((o,a)=>t<o.value?(l=a,!0):(n=a,!1))),{startIndex:n,endIndex:l,weight:(t-e[n].value)/(e[l].value-e[n].value)}}function tt(t,e){let n=[];if(t&&t.type==="multipart")t.colorRamps.reverse().forEach(((l,o)=>{o===0?n.push({value:e.max,color:new c(l.toColor),label:"high"}):n.push({value:null,color:new c(l.toColor),label:""}),o===t.colorRamps.length-1?n.push({value:e.min,color:new c(l.fromColor),label:"low"}):n.push({value:null,color:new c(l.fromColor),label:""})}));else{let l,o;t&&t.type==="algorithmic"?(l=t.fromColor,o=t.toColor):(l=[0,0,0,1],o=[255,255,255,1]),n=[{value:e.max,color:new c(o),label:"high"},{value:e.min,color:new c(l),label:"low"}]}return n}function et(t){if(!t.colorStops)return[];const e=[...t.colorStops].filter((l=>l.color?.a>0));let n=e.length-1;if(e&&e[0]){const l=e[n];l&&l.ratio!==1&&(e.push(new $({ratio:1,color:l.color})),n++)}return e.map(((l,o)=>{let a="";return o===0?a=t.legendOptions?.minLabel||"low":o===n&&(a=t.legendOptions?.maxLabel||"high"),{color:l.color,label:a,ratio:l.ratio}})).reverse()}export{F as a,J as b,X as c,et as d,tt as e,Q as f,H as g,z as h,w as i,_ as l,T as o,Z as p,L as r,G as s,Y as t,P as u};
