import{aP as S,_ as w,d as h,aQ as k,u as T,aR as W,aS as q,j as I,aT as L,r as Q,c as _,o as y,w as g,b as X,e as Y,a as f,m,aU as O,aV as E,aW as Z,aX as N,aY as j,g as d,aZ as G,a_ as J,a$ as $,b0 as ee,t as F}from"./chunk-DyqHK6XP.js";const v={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(l=>["ascending","descending",null].includes(l))}},z=S(v);var V=Object.freeze({__proto__:null,createTableColumnBindProps:z,tableColumnProps:v});const te={...v,source:{type:Array,default:()=>[]}};var ae=h({name:"VkTableColumns",components:{ElTableColumn:k},props:te,setup(t){const l=z(t);return()=>{const o=(e=t.source)=>e.reduce((r,a)=>{if(T(a.hidden))return r;let n={};W(a.slots)&&(n=a.slots),typeof a.slots=="function"&&(n.default=a.slots),a.children&&(n.default=()=>o(a.children));const u={key:a.prop,...l.value,...q(a,{excludes:["children","slots"]})};return Object.keys(u).forEach(i=>{(u[i]===void 0||u[i]===null||u[i]==="")&&Reflect.deleteProperty(u,i)}),r.push(I(k,u,n)),r},[]);return o(t.source)}}}),b=w(ae,[["__file","D:\\labCode\\vunk-plus\\packages\\components\\table-columns\\src\\index.vue"]]);b.install=t=>{t.component(b.name,b)};function ne(){const t=L({sm:768,md:992,lg:1200,xl:1920}),l=t.smaller("lg"),o=t.greaterOrEqual("lg");return{breakpoints:t,isMobile:l,isDesktop:o}}const le={data:{type:Array,default:()=>[]},size:ee,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}},A={select:null,"select-all":null,"selection-change":null,"cell-mouse-enter":null,"cell-mouse-leave":null,"cell-contextmenu":null,"cell-click":null,"cell-dblclick":null,"row-click":null,"row-contextmenu":null,"row-dblclick":null,"header-click":null,"header-contextmenu":null,"sort-change":null,"filter-change":null,"current-change":null,"header-dragend":null,"expand-change":null,scroll:null},re=j(A),oe=S(N),se=j(E),R=Z(le,{excludes:["style","className"]}),ue=S(R),ie={...V.tableColumnProps,...N,...R,border:{type:Boolean,default:!0},tableClass:{type:String,default:""},tableStyle:{type:Object,default:void 0},layout:{type:String,default:void 0},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},start:{type:Number,default:void 0},columns:{type:Array,default:()=>[]},modules:{type:Array,default:()=>["pagination"]},align:{type:String,default:"center"},headerAlign:{type:String,default:"center"},elRef:{type:Function,default:void 0},duplexFull:{type:Boolean,default:!0}},ce={...E,...A,"update:start":t=>typeof t=="number"};var de=h({name:"VkTablesV1",__name:"index",props:ie,emits:ce,setup(t,{expose:l,emit:o}){l();const e=t,r=o,a=G,s=oe(e,["layout","currentPage"]),n=se(r,["update:current-page"]),u=V.createTableColumnBindProps(e),i=ue(e),M=re(r),{isMobile:P}=ne(),D=d(()=>e.modules.includes("pagination")),C=d({get:()=>e.start!==void 0?Math.floor(e.start/e.pageSize)+1:e.currentPage,set:c=>{r("update:current-page",c),x({currentPage:c})}});function x(c){const U=c.currentPage??C.value,K=c.pageSize??e.pageSize;r("update:start",(U-1)*K)}const H=d(()=>e.layout?e.layout:P.value?"total, prev, pager, next":"total, sizes, prev, pager, next, jumper"),B={props:e,emit:r,ElTable:a,paginationBindProps:s,paginationOnEmits:n,columnsProps:u,tableProps:i,tableOnEmits:M,isMobile:P,hasPagination:D,theCurrentPage:C,updateStart:x,layout:H,get VkDuplexCalc(){return $},get ElPagination(){return J}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}});const pe={key:0,class:"vk-tables-v1-pagination-x"};function ge(t,l,o,e,r,a){const s=Q("VkTableColumns");return y(),_(e.VkDuplexCalc,{class:"vk-tables-v1","with-resize":"one",gap:"var(--vk-tables-v1-gap, 14px)",full:t.duplexFull},{one:g(({resizeElementClientMaxHeight:n})=>[f(e.ElTable,m(e.tableProps,{ref:t.elRef,style:t.tableStyle,"max-height":t.duplexFull?e.tableProps.maxHeight:n,"class-name":`vk-tables-v1-table ${t.tableClass}`},O(e.tableOnEmits)),{default:g(()=>[f(s,m(e.columnsProps,{source:t.columns}),null,16,["source"])]),_:2},1040,["style","max-height","class-name"])]),default:g(()=>[e.hasPagination?(y(),X("div",pe,[f(e.ElPagination,m(e.paginationBindProps,{"current-page":e.theCurrentPage,"onUpdate:currentPage":l[0]||(l[0]=n=>e.theCurrentPage=n),layout:e.layout},O(e.paginationOnEmits),{"onUpdate:pageSize":l[1]||(l[1]=n=>e.updateStart({pageSize:n}))}),null,16,["current-page","layout"])])):Y("v-if",!0)]),_:1},8,["full"])}var p=w(de,[["render",ge],["__file","D:\\labCode\\vunk-plus\\packages\\components\\tables-v1\\src\\index.vue"]]);p.install=t=>{t.component(p.name||"VkTablesV1",p)};const me=h({__name:"tables",props:{data:{type:Array,default:()=>[]}},setup(t){const l=t,o=F(1),e=F(5),r=d(()=>{const a=(o.value-1)*e.value,s=a+e.value;return l.data.slice(a,s)});return(a,s)=>(y(),_(T(p),{"current-page":o.value,"onUpdate:currentPage":s[0]||(s[0]=n=>o.value=n),"page-size":e.value,"onUpdate:pageSize":s[1]||(s[1]=n=>e.value=n),data:r.value,background:!0,total:t.data.length,"duplex-full":!1},null,8,["current-page","page-size","data","total"]))}});export{me as _};
