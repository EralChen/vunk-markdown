import{_ as F,aL as h,d as S,aM as C,u as T,aN as W,aO as L,aP as q,aQ as I,c as E,o as y,w as f,j as Q,g as X,a as m,m as b,aR as O,aS as N,aT as Y,aU as _,aV as j,i as d,aW as Z,aX as G,aY as J,aZ as $,f as w}from"./chunk-DpJVogQA.js";const v={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(l=>["ascending","descending",null].includes(l))}},z=h(v);var V=Object.freeze({__proto__:null,createTableColumnBindProps:z,tableColumnProps:v});const ee={...v,source:{type:Array,default:()=>[]}};var te=S({name:"VkTableColumns",components:{ElTableColumn:C},props:ee,setup(t){const l=z(t);return()=>{const o=(e=t.source)=>e.reduce((r,a)=>{if(T(a.hidden))return r;let s={};W(a.slots)&&(s=a.slots),typeof a.slots=="function"&&(s.default=a.slots),a.children&&(s.default=()=>o(a.children));const u={key:a.prop,...l.value,...L(a,{excludes:["children","slots"]})};return Object.keys(u).forEach(i=>{(u[i]===void 0||u[i]===null||u[i]==="")&&Reflect.deleteProperty(u,i)}),r.push(q(C,u,s)),r},[]);return o(t.source)}}}),p=F(te,[["__file","/home/runner/work/vunk-plus/vunk-plus/packages/components/table-columns/src/index.vue"]]);p.install=t=>{t.component(p.name,p)};function ae(){const t=I({sm:768,md:992,lg:1200,xl:1920}),l=t.smaller("lg"),o=t.greaterOrEqual("lg");return{breakpoints:t,isMobile:l,isDesktop:o}}const ne={data:{type:Array,default:()=>[]},size:$,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}},A={select:null,"select-all":null,"selection-change":null,"cell-mouse-enter":null,"cell-mouse-leave":null,"cell-contextmenu":null,"cell-click":null,"cell-dblclick":null,"row-click":null,"row-contextmenu":null,"row-dblclick":null,"header-click":null,"header-contextmenu":null,"sort-change":null,"filter-change":null,"current-change":null,"header-dragend":null,"expand-change":null,scroll:null},le=j(A),re=h(_),oe=j(N),M=Y(ne,{excludes:["style","className"]}),se=h(M),ue={...V.tableColumnProps,..._,...M,border:{type:Boolean,default:!0},tableClass:{type:String,default:""},tableStyle:{type:Object,default:void 0},layout:{type:String,default:void 0},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},start:{type:Number,default:void 0},columns:{type:Array,default:()=>[]},modules:{type:Array,default:()=>["pagination"]},align:{type:String,default:"center"},headerAlign:{type:String,default:"center"},elRef:{type:Function,default:void 0},duplexFull:{type:Boolean,default:!0}},ie={...N,...A,"update:start":t=>typeof t=="number"};var ce=S({name:"VkTablesV1",__name:"index",props:ue,emits:ie,setup(t,{expose:l,emit:o}){l();const e=t,r=o,a=Z,n=re(e,["layout","currentPage"]),s=oe(r,["update:current-page"]),u=V.createTableColumnBindProps(e),i=se(e),R=le(r),{isMobile:P}=ae(),D=d(()=>e.modules.includes("pagination")),k=d({get:()=>e.start!==void 0?Math.floor(e.start/e.pageSize)+1:e.currentPage,set:c=>{r("update:current-page",c),x({currentPage:c})}});function x(c){const U=c.currentPage??k.value,K=c.pageSize??e.pageSize;r("update:start",(U-1)*K)}const H=d(()=>e.layout?e.layout:P.value?"total, prev, pager, next":"total, sizes, prev, pager, next, jumper"),B={props:e,emit:r,ElTable:a,paginationBindProps:n,paginationOnEmits:s,columnsProps:u,tableProps:i,tableOnEmits:R,isMobile:P,hasPagination:D,theCurrentPage:k,updateStart:x,layout:H,get VkTableColumns(){return p},get VkDuplexCalc(){return J},get ElPagination(){return G}};return Object.defineProperty(B,"__isScriptSetup",{enumerable:!1,value:!0}),B}});const de={key:0,class:"vk-tables-v1-pagination-x"};function pe(t,l,o,e,r,a){return y(),E(e.VkDuplexCalc,{class:"vk-tables-v1","with-resize":"one",gap:"var(--vk-tables-v1-gap, 14px)",full:t.duplexFull},{one:f(({resizeElementClientMaxHeight:n})=>[m(e.ElTable,b(e.tableProps,{ref:t.elRef,style:t.tableStyle,"max-height":t.duplexFull?e.tableProps.maxHeight:n,"class-name":`vk-tables-v1-table ${t.tableClass}`},O(e.tableOnEmits)),{default:f(()=>[m(e.VkTableColumns,b(e.columnsProps,{source:t.columns}),null,16,["source"])]),_:2},1040,["style","max-height","class-name"])]),default:f(()=>[e.hasPagination?(y(),Q("div",de,[m(e.ElPagination,b(e.paginationBindProps,{"current-page":e.theCurrentPage,"onUpdate:currentPage":l[0]||(l[0]=n=>e.theCurrentPage=n),layout:e.layout},O(e.paginationOnEmits),{"onUpdate:pageSize":l[1]||(l[1]=n=>e.updateStart({pageSize:n}))}),null,16,["current-page","layout"])])):X("v-if",!0)]),_:1},8,["full"])}var g=F(ce,[["render",pe],["__file","/home/runner/work/vunk-plus/vunk-plus/packages/components/tables-v1/src/index.vue"]]);g.install=t=>{t.component(g.name||"VkTablesV1",g)};const fe=S({__name:"tables",props:{data:{type:Array,default:()=>[]}},setup(t){const l=t,o=w(1),e=w(5),r=d(()=>{const a=(o.value-1)*e.value,n=a+e.value;return l.data.slice(a,n)});return(a,n)=>(y(),E(T(g),{"current-page":o.value,"onUpdate:currentPage":n[0]||(n[0]=s=>o.value=s),"page-size":e.value,"onUpdate:pageSize":n[1]||(n[1]=s=>e.value=s),data:r.value,background:!0,total:t.data.length,"duplex-full":!1},null,8,["current-page","page-size","data","total"]))}});export{fe as _};
