import{a0 as p}from"./chunk-Dpk1TJd9.js";import{f_ as d}from"./chunk-CuaFhuP3.js";class L{constructor(n){this.data=n,this.type="encoded-mesh-texture",this.encoding=d.KTX2_ENCODING}}function l(t){return t?.type==="encoded-mesh-texture"}async function w(t){const n=new Blob([t]),o=await n.text();return JSON.parse(o)}async function f(t,n){if(n===d.KTX2_ENCODING)return new L(t);const o=new Blob([t],{type:n});let r=URL.createObjectURL(o);switch(n){case"image/jpeg":r+="#.jpg";break;case"image/png":r+="#.png"}const e=new Image;if(p("esri-iPhone"))return new Promise(((s,m)=>{const a=()=>{i(),s(e)},c=u=>{i(),m(u)},i=()=>{URL.revokeObjectURL(r),e.removeEventListener("load",a),e.removeEventListener("error",c)};e.addEventListener("load",a),e.addEventListener("error",c),e.src=r}));try{e.src=r,await e.decode()}catch{console.warn("Failed decoding HTMLImageElement")}return URL.revokeObjectURL(r),e}export{l as n,f as o,w as r,L as t};
