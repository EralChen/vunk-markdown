import{u as a,H as s,M as b,y as p,B as c,O as f,N as T,C as y,K as v,P as A,Q as g,$ as x,R as D,J as F,S as O,T as P}from"./chunk-CZfFHwqK.js";import{a as d,r as m}from"./chunk-CG1SvWld.js";import{b as w}from"./chunk-DiCZEU5H.js";import"./chunk-C39j8-it.js";import"./chunk-Bj5pIyxE.js";import"./chunk-DJw_0V8B.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-SqlbPPT2.js";import"./chunk-BPVd6ESQ.js";import"./chunk-LpcU0tTJ.js";import"./chunk-DQrHgpDT.js";import"./chunk-D48CEPFh.js";import"./chunk-CcEbRgUF.js";function l(e,r){return e&&e.domain?e.domain.type==="coded-value"||e.domain.type==="codedValue"?y.convertObjectToArcadeDictionary({type:"codedValue",name:e.domain.name,dataType:w[e.field.type],codedValues:e.domain.codedValues.map(n=>({name:n.name,code:n.code}))},v(r)):y.convertObjectToArcadeDictionary({type:"range",name:e.domain.name,dataType:w[e.field.type],min:e.domain.minValue,max:e.domain.maxValue},v(r)):null}function gt(e){e.mode==="async"&&(e.functions.domain=function(r,n){return e.standardFunctionAsync(r,n,async(o,u,t)=>{if(a(t,2,3,r,n),s(t[0]))return l(b(t[0],p(t[1]),t[2]===void 0?void 0:t[2]),r);if(c(t[0]))return await t[0]._ensureLoaded(),l(f(p(t[1]),t[0],null,t[2]===void 0?void 0:t[2]),r);throw new d(r,m.InvalidParameter,n)})},e.functions.subtypes=function(r,n){return e.standardFunctionAsync(r,n,async(o,u,t)=>{if(a(t,1,1,r,n),s(t[0])){const i=T(t[0]);return i?y.convertObjectToArcadeDictionary(i,v(r)):null}if(c(t[0])){await t[0]._ensureLoaded();const i=t[0].subtypeMetaData();return i?y.convertObjectToArcadeDictionary(i,v(r)):null}throw new d(r,m.InvalidParameter,n)})},e.functions.domainname=function(r,n){return e.standardFunctionAsync(r,n,async(o,u,t)=>{if(a(t,2,4,r,n),s(t[0]))return A(t[0],p(t[1]),t[2],t[3]===void 0?void 0:t[3]);if(c(t[0])){await t[0]._ensureLoaded();const i=f(p(t[1]),t[0],null,t[3]===void 0?void 0:t[3]);return g(i,t[2])}throw new d(r,m.InvalidParameter,n)})},e.signatures.push({name:"domainname",min:2,max:4}),e.functions.domaincode=function(r,n){return e.standardFunctionAsync(r,n,async(o,u,t)=>{if(a(t,2,4,r,n),s(t[0]))return x(t[0],p(t[1]),t[2],t[3]===void 0?void 0:t[3]);if(c(t[0])){await t[0]._ensureLoaded();const i=f(p(t[1]),t[0],null,t[3]===void 0?void 0:t[3]);return D(i,t[2])}throw new d(r,m.InvalidParameter,n)})},e.signatures.push({name:"domaincode",min:2,max:4}),e.functions.text=function(r,n){return e.standardFunctionAsync(r,n,async(o,u,t)=>{if(a(t,1,2,r,n),c(t[0])){const i=F(t[1],"");if(i==="")return t[0].castToText();if(i.toLowerCase()==="schema")return t[0].convertToText("schema",o.abortSignal);if(i.toLowerCase()==="featureset")return t[0].convertToText("featureset",o.abortSignal);throw new d(r,m.InvalidParameter,n)}return O(t[0],t[1])})},e.functions.gdbversion=function(r,n){return e.standardFunctionAsync(r,n,async(o,u,t)=>{if(a(t,1,1,r,n),s(t[0]))return t[0].gdbVersion();if(c(t[0]))return(await t[0].load()).gdbVersion;throw new d(r,m.InvalidParameter,n)})},e.functions.schema=function(r,n){return e.standardFunctionAsync(r,n,async(o,u,t)=>{if(a(t,1,1,r,n),c(t[0]))return await t[0].load(),y.convertObjectToArcadeDictionary(t[0].schema(),v(r));if(s(t[0])){const i=P(t[0]);return i?y.convertObjectToArcadeDictionary(i,v(r)):null}throw new d(r,m.InvalidParameter,n)})})}export{gt as registerFunctions};
