import{P as n,$ as l}from"./chunk-CuzwIw5H.js";import{n as c,r as u,t as o,B as y}from"./chunk-BLrLWCUc.js";import"./chunk-CWUYlh1e.js";import"./chunk-BDqMgIU1.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */const m="Stream Service",f="Feed",d="stream-layer-save",v="stream-layer-save-as";function a(t){return{isValid:t.type==="stream"&&!!t.url&&!t.webSocketUrl,errorMessage:"Stream layer should be created using a url to a stream service"}}function p(t){const r=t.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function x(t,r){const{parsedUrl:e,title:s,fullExtent:i}=t;r.url=e.path,r.title||=s,r.extent=null,i!=null&&(r.extent=await c(i)),u(r,o.METADATA),y(r,o.SINGLE_LAYER)}async function or(t,r){return n({layer:t,itemType:m,additionalItemType:f,validateLayer:a,createItemData:p,errorNamePrefix:d},r)}async function mr(t,r,e){return l({layer:t,itemType:m,validateLayer:a,createItemData:p,errorNamePrefix:v,newItem:r,setItemProperties:x},e)}export{or as save,mr as saveAs};
