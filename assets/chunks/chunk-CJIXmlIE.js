import{P as c,$ as u}from"./chunk-QbnOQ257.js";import{b as y,d as f,E as i,h as v,u as m}from"./chunk-CuaFhuP3.js";import"./chunk-Dpk1TJd9.js";import"./chunk-iOPJXyP1.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-DGmg3LSc.js";const p="Map Service",I="map-image-layer-save",d="map-image-layer-save-as";function a(t){return{isValid:t.type==="map-image"&&!t.sourceJSON?.tileInfo,errorMessage:"Layer.type should be 'map-image' and reference a dynamic (non-cached) map service"}}function n(t){const r=t.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}function g(t,r){return s(t,r),Promise.resolve()}async function A(t,r){const{parsedUrl:e,title:l,fullExtent:o}=t;r.url=e.path,r.title||=l,r.extent=o?await y(o):null,f(r,i.METADATA),s(t,r)}function s(t,r){v(r,i.DYNAMIC);const e=t.sublayers?.length??0;m(r,i.MULTI_LAYER,e>1),m(r,i.SINGLE_LAYER,e===1)}async function ar(t,r){return c({layer:t,itemType:p,validateLayer:a,createItemData:n,errorNamePrefix:I,setItemProperties:g},r)}async function nr(t,r,e){return u({layer:t,itemType:p,validateLayer:a,createItemData:n,errorNamePrefix:d,newItem:r,setItemProperties:A},e)}export{ar as save,nr as saveAs};
