import{d as B,t as d,A as j,g as m,b as w,o as C,B as s,a as l,w as n,u as t,f as i,C as R,D,V as L,l as x}from"./chunk-CLZJNR18.js";import{u as y}from"./chunk-Cg6UH1gj.js";import{V as I,a as S}from"./chunk-V20vwO4I.js";import"./chunk-BrYCpCch.js";const T={class:"vk-chat-independent"},$={class:"vk-chat-independent-main__bubbles"},z={class:"vk-chat-independent-footer"},A={class:"vk-chat-independent-background"},M=B({name:"ChatIndependent",__name:"view",setup(N){const b=d(),a=d(""),u=j(),p=u.resolve,{simplicity:f,chat:v}=y(),{items:o,onRequest:h}=f;v.setMessages([{id:"assistant-start",message:{role:"assistant",content:["```json layer","[",'{ "url": "https://geojson.cn/api/china/1.6.2/china.json", "label": "中国地图" },','{ "url": "https://raw.githubusercontent.com/johan/world.geo.json/master/countries.geo.json", "label": "各国边界" }',"]","```"].join(`
`)},status:"success"}]);const _=m(()=>o.value.at(-1)),g=m(()=>_.value?.loading===!0);function k(e){e&&(h(e),x(()=>{a.value=""}),setTimeout(()=>{u.value?.scrollToBottom()},400))}function V(){const e=o.value.at(-1);e&&e.abortController?.abort("User Cancel")}return(e,c)=>(C(),w("div",T,[s("div",{ref_key:"mainRef",ref:b,class:"vk-chat-independent-main"},[l(t(L),{"with-flex":"one",class:"vk-chat-independent-main__duplex"},{one:n(()=>[s("div",$,[l(t(S),{"el-ref":t(p),items:t(o)},{renderer:n(()=>[i(e.$slots,"bubble_renderer")]),footer:n(r=>[i(e.$slots,"bubble_footer",R(D(r)))]),_:3},8,["el-ref","items"])])]),two:n(()=>[s("div",z,[l(t(I),{modelValue:a.value,"onUpdate:modelValue":c[0]||(c[0]=r=>a.value=r),"auto-size":!0,placeholder:"请输入内容",loading:g.value,onSubmit:k,onCancel:V},null,8,["modelValue","loading"])])]),_:3})],512),s("div",A,[i(e.$slots,"background")])]))}});export{M as _};
