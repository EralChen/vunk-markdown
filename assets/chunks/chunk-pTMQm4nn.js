import{P as l,$ as y}from"./chunk-CR2vio1n.js";import{jb as m,o as f,E as p,c as v,d,m as I}from"./chunk-XGpVqsM_.js";import"./chunk-DyqHK6XP.js";import"./chunk-Dix477Sg.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-CrMA_peF.js";const a="Group Layer",g="group-layer-save",P="group-layer-save-as",i=p.GROUP_LAYER_MAP;function s(r){return{isValid:r.type==="group",errorMessage:"Layer.type should be 'group'"}}function A(r){return{isValid:v(r,i),errorMessage:`Layer.portalItem.typeKeywords should have '${i}'`}}function n(r,e){return{...f(r,"web-map",!0),initiator:e}}function c(r){const e=r.layerJSON;return Promise.resolve(e&&Object.keys(e).length?e:null)}async function R(r,e){e.title||=r.title,d(e,p.METADATA),I(e,i)}async function nr(r,e){return l({layer:r,itemType:a,validateLayer:s,validateItem:A,createJSONContext:t=>n(t,r),createItemData:c,errorNamePrefix:g,saveResources:async(t,o)=>(r.sourceIsPortalItem||await t.removeAllResources().catch((()=>{})),m(r.resourceReferences,o))},e)}async function cr(r,e,t){return y({layer:r,itemType:a,validateLayer:s,createJSONContext:o=>n(o,r),createItemData:c,errorNamePrefix:P,newItem:e,setItemProperties:R,saveResources:(o,u)=>m(r.resourceReferences,u)},t)}export{nr as save,cr as saveAs};
