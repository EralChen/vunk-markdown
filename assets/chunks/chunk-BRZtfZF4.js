import{aJ as i}from"./chunk-CET6Djna.js";let h=class{get isDecoration(){return this._isDecoration}set isDecoration(t){this._isDecoration=t,this.forEachMaterial((e=>e?.setParameters({isDecoration:t})))}constructor(t){this._isDecoration=!1,this._attached=!1,this._resourcesCreated=!1,this._visible=!0,this.view=t.view,this._handle=i((()=>t.view.ready),(e=>{this._resourcesCreated&&(e?this._createResources():this._destroyResources())}))}applyProperties(t){let e=!1;for(const s in t)s in this&&(s==="attached"?e=!!t[s]:this[s]=t[s]);this.attached=e}destroy(){this.attached=!1,this._handle.remove()}get attached(){return this._attached}set attached(t){t!==this._attached&&this.view.stage&&(this._attached=t,this._attached&&!this._resourcesCreated?this._createResources():!this._attached&&this._resourcesCreated&&this._destroyResources(),this.onAttachedChange(t))}onAttachedChange(t){}get visible(){return this._visible}set visible(t){t!==this._visible&&(this._visible=t,this.attached&&this.updateVisibility(t))}_createResources(){this.createResources(),this._resourcesCreated=!0,this.updateVisibility(this.visible)}_destroyResources(){this.destroyResources(),this._resourcesCreated=!1}};export{h as t};
