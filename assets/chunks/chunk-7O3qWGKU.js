import{d as P,ay as v,az as k,u as w,aA as D,aB as H,aC as K,aD as _,S as U,K as p,c as E,o as S,w as b,i as I,T as L,a as y,M as h,aE as O,aF as T,aG as W,aH as N,aI as q,aJ as G,aK as J,aL as x,h as g,aM as Q,b as F}from"./chunk-Cokl53l_.js";const B={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showTooltipWhenOverflow:Boolean,showOverflowTooltip:Boolean,fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:e=>e.every(t=>["ascending","descending",null].includes(t))}},z=v(B);var j=Object.freeze({__proto__:null,createTableColumnBindProps:z,tableColumnProps:B});const X={...B,source:{type:Array,default:()=>[]}};var f=P({name:"VkTableColumns",components:{ElTableColumn:k},props:X,setup(e){const t=z(e);return()=>{const l=(s=e.source)=>s.reduce((u,a)=>{if(w(a.hidden))return u;let n={};D(a.slots)&&(n=a.slots),typeof a.slots=="function"&&(n.default=a.slots),a.children&&(n.default=()=>l(a.children));const o={key:a.prop,...t.value,...H(a,{excludes:["children","slots"]})};return Object.keys(o).forEach(i=>{(o[i]===void 0||o[i]===null||o[i]==="")&&Reflect.deleteProperty(o,i)}),u.push(K(k,o,n)),u},[]);return l(e.source)}}});f.install=e=>{e.component(f.name,f)};const Y=()=>{const e=_({sm:768,md:992,lg:1200,xl:1920}),t=e.smaller("lg"),l=e.greaterOrEqual("lg");return{breakpoints:e,isMobile:t,isDesktop:l}},Z={data:{type:Array,default:()=>[]},size:Q,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children",checkStrictly:!1})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object],appendFilterPanelTo:String,scrollbarTabindex:{type:[Number,String],default:void 0}},V={select:null,"select-all":null,"selection-change":null,"cell-mouse-enter":null,"cell-mouse-leave":null,"cell-contextmenu":null,"cell-click":null,"cell-dblclick":null,"row-click":null,"row-contextmenu":null,"row-dblclick":null,"header-click":null,"header-contextmenu":null,"sort-change":null,"filter-change":null,"current-change":null,"header-dragend":null,"expand-change":null,scroll:null},ee=x(V),te=v(N),ae=x(T),A=W(Z,{excludes:["style","className"]}),ne=v(A),le={...j.tableColumnProps,...N,...A,border:{type:Boolean,default:!0},tableClass:{type:String,default:""},tableStyle:{type:Object,default:void 0},layout:{type:String,default:void 0},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1},start:{type:Number,default:void 0},columns:{type:Array,default:()=>[]},modules:{type:Array,default:()=>["pagination"]},align:{type:String,default:"center"},headerAlign:{type:String,default:"center"},elRef:{type:Function,default:void 0},duplexFull:{type:Boolean,default:!0}},re={...T,...V,"update:start":e=>typeof e=="number"};var oe=P({name:"VkTablesV1",components:{VkTableColumns:f,VkDuplexCalc:J,ElPagination:G,ElTable:q},props:le,emits:re,setup(e,{emit:t,expose:l}){const s=te(e,["layout","currentPage"]),u=ae(t,["update:current-page"]),a=j.createTableColumnBindProps(e),r=ne(e,[]),n=ee(t),{isMobile:o}=Y(),i=g(()=>e.modules.includes("pagination")),c=g({get:()=>e.start!==void 0?Math.floor(e.start/e.pageSize)+1:e.currentPage,set:d=>{t("update:current-page",d),C({currentPage:d})}});function C(d){const $=d.currentPage??c.value,R=d.pageSize??e.pageSize;t("update:start",($-1)*R)}const M=g(()=>e.layout?e.layout:o.value?"total, prev, pager, next":"total, sizes, prev, pager, next, jumper");return l({}),{paginationBindProps:s,paginationOnEmits:u,theCurrentPage:c,updateStart:C,columnsProps:a,tableProps:r,tableOnEmits:n,layout:M,hasPagination:i}}});const se={key:0,class:"vk-tables-v1-pagination-x"};function ue(e,t,l,s,u,a){const r=p("VkTableColumns"),n=p("ElTable"),o=p("ElPagination"),i=p("VkDuplexCalc");return S(),E(i,{class:"vk-tables-v1","with-resize":"one",gap:"var(--vk-tables-v1-gap, 14px)",full:e.duplexFull},{one:b(({resizeElementClientMaxHeight:c})=>[y(n,h(e.tableProps,{ref:e.elRef,style:e.tableStyle,"max-height":e.duplexFull?e.tableProps.maxHeight:c,"class-name":`vk-tables-v1-table ${e.tableClass}`},O(e.tableOnEmits)),{default:b(()=>[y(r,h(e.columnsProps,{source:e.columns}),null,16,["source"])]),_:2},1040,["style","max-height","class-name"])]),default:b(()=>[e.hasPagination?(S(),I("div",se,[y(o,h(e.paginationBindProps,{"current-page":e.theCurrentPage,"onUpdate:currentPage":t[0]||(t[0]=c=>e.theCurrentPage=c),layout:e.layout},O(e.paginationOnEmits),{"onUpdate:pageSize":t[1]||(t[1]=c=>e.updateStart({pageSize:c}))}),null,16,["current-page","layout"])])):L("v-if",!0)]),_:1},8,["full"])}var m=U(oe,[["render",ue]]);m.install=e=>{e.component(m.name||"VkTablesV1",m)};const ce=P({__name:"tables",props:{data:{type:Array,default:()=>[]}},setup(e){const t=e,l=F(1),s=F(5),u=g(()=>{const a=(l.value-1)*s.value,r=a+s.value;return t.data.slice(a,r)});return(a,r)=>(S(),E(w(m),{"current-page":l.value,"onUpdate:currentPage":r[0]||(r[0]=n=>l.value=n),"page-size":s.value,"onUpdate:pageSize":r[1]||(r[1]=n=>s.value=n),data:u.value,background:!0,total:e.data.length,"duplex-full":!1},null,8,["current-page","page-size","data","total"]))}});export{ce as _};
