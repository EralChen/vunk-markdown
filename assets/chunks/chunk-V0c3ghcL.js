const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/chunk-v3ghKzqs.js","assets/chunks/chunk-D28Ltzg9.js","assets/chunks/chunk-BoJEKryr.js","assets/static/onCreateApp.DRclb75I.css","assets/static/src_layouts_default_aside-6ea01de8.BjbON5Ij.css","assets/static/src_layouts_default_navbar-403af73f.u3IytZI2.css","assets/static/vitepress_components_VPDocOutlineItem-0942cada.tkRPm3MX.css","assets/static/vitepress_components_VPDocAsideOutline-b0d47973.Ds9uynvM.css","assets/static/src_styles_common_reset-f7a68b0e.BAKp5MHC.css","assets/static/src_styles_common_color-a7a524c7.CVau4Kly.css","assets/static/src_styles_common_is-19c6c24d.DKAKruk7.css","assets/static/style-bd199161.DVw0mqUT.css","assets/static/style-ee024ed9.COZrvgTQ.css","assets/static/src_styles_element-plus_reset-752cc03d.htEpr2M-.css","assets/static/src_styles_element-plus_form-item-877afd6a.Dy4HJB2K.css","assets/static/src_styles_element-plus_table-6cbc5816.DXG1SsxY.css","assets/static/src_styles_element-plus_tabs-67d1a98b.BMDMQPDv.css","assets/static/src_styles_element-plus_tree-cc28503d.nmT5n0wM.css","assets/static/src_styles_element-plus_dialog-7f91a00e.D4nTsJge.css","assets/static/src_styles_element-plus_breadcrumb-8ce3a1a1.CwEEGJYc.css","assets/static/src_styles_element-plus_menu-33b44202.hFAFO4eV.css","assets/static/style-769e248f.DDhCRjCR.css","assets/static/style-22d30bfc.TwvRHEyK.css","assets/static/style-d089cd8f.Cc2PI5FU.css","assets/static/style-4013e6b6.CqxSaK_p.css","assets/static/style-51eec318.o0zCZ1y4.css","assets/static/src_styles_form_sub-7371c85e.y3zh-mS3.css","assets/static/src_styles_layout_index-2891f17b.BNCqvENj.css","assets/static/style-ab3e4bd5.BuWAVw4m.css","assets/static/style-2bf8ed1f.CRScSR0a.css","assets/static/style-603b4474.BZwgKm1s.css","assets/static/style-c5252da0.CFNWXuiE.css","assets/static/style-6fd0e256.X9gIGpBH.css","assets/static/style-3c45b3af.Di2LGzYR.css","assets/static/style-27a3a9b4.C8H6Fcyw.css","assets/static/src_styles_markdown_reset-fbd16bdd.D3vNaEcf.css","assets/static/src_styles_markdown_shiki-0d2326df.uut6VZYd.css","assets/static/style-b2fddf65.BmytK7dW.css","assets/static/style-2208d37a.ChwmoEkt.css","assets/static/pages_uno-88a4f3d7.DQjyfaFq.css"])))=>i.map(i=>d[i]);
import{_ as Y}from"./chunk-BoJEKryr.js";import{j as l,aK as A,b as d,o as b,B as c,e as R,F as E,_ as G,d as F,a as r,w as s,ab as _,ac as f,f as T,C as J,D as Q,b6 as W,t as y,A as X,g as k,b7 as Z,Y as $,l as ee,aa as te,V as ne,u as S}from"./chunk-D28Ltzg9.js";import{u as oe}from"./chunk-PhHPe8m7.js";import{V as re,a as ae}from"./chunk-BUBe6XoC.js";import{b as ie}from"./chunk-XXcioyNW.js";import{V as L}from"./chunk-BIVaQJ0M.js";import{_ as se}from"./chunk-77SWhXxH.js";import{_ as ce}from"./chunk-Ba2ju27Y.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./chunk-DPVDugSv.js";import"./chunk-CWGemGgT.js";import"./chunk-D5iaQeiq.js";import"./chunk-BDaEBHxI.js";import"./chunk-CAkAW18h.js";import"./chunk-tB-sggU7.js";var H=(t,n)=>{const i=t.__vccOpts||t;for(const[e,u]of n)i[e]=u;return i};const ue={},le={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"};function pe(t,n){return b(),d("svg",le,n[0]||(n[0]=[c("path",{fill:"currentColor",d:"M896 768H128c-35.2 0-64-28.8-64-64V320c0-35.2 28.8-64 64-64h768c35.2 0 64 28.8 64 64v384c0 35.2-28.8 64-64 64zM224 384c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 480c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm128 0c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zM224 576c-17.6 0-32 14.4-32 32s14.4 32 32 32 32-14.4 32-32-14.4-32-32-32zm512 0H288c-17.6 0-32 14.4-32 32s14.4 32 32 32h448c17.6 0 32-14.4 32-32s-14.4-32-32-32z"},null,-1)]))}var me=H(ue,[["render",pe],["__file","/home/runner/work/vunk-plus/vunk-plus/packages/icons/keyboard/src/index.vue"]]);const de=function(t){return l(A,t,()=>l(me))},be=function(t){return l(L,{icon:de,shape:"square",size:"small",...t})};var ve={name:"VkVoiceIcon"};function _e(t,n,i,e,u,V){return b(),d(E,null,[R(" 语音图标组件 "),n[0]||(n[0]=c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[c("path",{fill:"currentColor",d:"M512 640c88 0 160-72 160-160V256c0-88-72-160-160-160s-160 72-160 160v224c0 88 72 160 160 160zm280-156.8h-48c-4.4 0-8 3.6-8 8v8.8c0 108.8-86.4 199.2-195.2 203.2H512c-112 0-203.2-91.2-203.2-203.2v-8.8c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v8.8c0 131.2 98.4 239.2 225.6 254.4v115.2H360c-17.6 0-32 14.4-32 32s14.4 32 32 32h304c17.6 0 32-14.4 32-32s-14.4-32-32-32H552V744.8c127.2-15.2 225.6-123.2 225.6-254.4v-8.8c0-4.8-3.6-8.4-8-8.4z"})],-1))],2112)}var fe=H(ve,[["render",_e],["__file","/home/runner/work/vunk-plus/vunk-plus/packages/icons/voice/src/index.vue"]]);const ke=function(t){return l(A,t,()=>l(fe))},he=function(t){return l(L,{icon:ke,shape:"square",size:"small",...t})};var B=(t=>(t.Voice="voice",t.Text="text",t))(B||{});const Ve={data:{type:Object},speechToText:{type:Function},textToSpeech:{type:Function}},xe={setData:t=>t};var ge=F({name:"VkChatIndependent",__name:"index",props:Ve,emits:xe,setup(t,{expose:n,emit:i}){n();const e=t,u=i,V=$(()=>Y(()=>import("./chunk-v3ghKzqs.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39]))),[o,M]=W({},e,u),O=y(),P=y(B.Text),D=y(""),x=X(),j=x.resolve,{simplicity:z}=oe(),{items:v,onRequest:w}=z,g=k(()=>v.value.at(-1)),p=k(()=>C(-1)),N=k(()=>!!(g.value?.loading===!0||Z(p.value)&&p.value.completed!==!0)),q=k(()=>p.value.error===!0?!1:g.value?.loading===!0||p.value.completed===!1);function K(a){a&&(w(a),ee(()=>{D.value=""}),setTimeout(()=>{x.value?.scrollToBottom()},400))}function U(){const a=v.value.at(-1);a&&(a.abortController?.abort(),te(()=>o.value[a.key],60).then(m=>{m.elRef?.interrupt(),o.value[a.key].completed=!0}))}function C(a){const m=v.value.at(a);return m?.key&&o.value[m.key]?o.value[m.key]:{}}const I={props:e,emit:u,VkRecorderButton:V,bubbleData:o,setBubbleData:M,mainRef:O,inputType:P,content:D,bubbleListDef:x,bubbleListReslove:j,simplicity:z,bubbleItems:v,onRequest:w,lastBubbleItem:g,lastBubbleData:p,clientLoading:N,senderDisabled:q,onSubmit:K,onCancel:U,getBubbleDataAt:C,get VkBubbleList(){return ae},get VkBubbleData(){return ie},get VkSender(){return re},get VkKeyboardAvatar(){return be},get VkVoiceAvatar(){return he},get VkDuplex(){return ne},get InputType(){return B}};return Object.defineProperty(I,"__isScriptSetup",{enumerable:!1,value:!0}),I}});const Te={class:"vk-chat-independent"},ye={ref:"mainRef",class:"vk-chat-independent-main"},Be={class:"vk-chat-independent-main__bubbles"},De={class:"vk-chat-independent-footer"},ze={class:"vk-chat-independent-background"};function we(t,n,i,e,u,V){return b(),d("div",Te,[c("div",ye,[r(e.VkDuplex,{"with-flex":"one",class:"vk-chat-independent-main__duplex"},{one:s(()=>[r(e.VkBubbleData,{data:e.bubbleData,onSetData:e.setBubbleData},{default:s(()=>[c("div",Be,[r(e.VkBubbleList,{"el-ref":e.bubbleListReslove,items:e.bubbleItems,"text-to-speech":t.textToSpeech},{renderer:s(()=>[T(t.$slots,"bubble_renderer")]),footer:s(o=>[T(t.$slots,"bubble_footer",J(Q(o)))]),_:3},8,["el-ref","items","text-to-speech"])])]),_:3},8,["data","onSetData"])]),two:s(()=>[c("div",De,[t.speechToText?(b(),d(E,{key:0},[_(r(e.VkKeyboardAvatar,{size:40,onClick:n[0]||(n[0]=o=>e.inputType=e.InputType.Text)},null,512),[[f,e.inputType===e.InputType.Voice]]),_(r(e.VkRecorderButton,{"append-to":e.mainRef,disabled:e.senderDisabled,"speech-to-text":t.speechToText,"submit-to-text":!0,onSubmitText:e.onSubmit},null,8,["append-to","disabled","speech-to-text"]),[[f,e.inputType===e.InputType.Voice]]),_(r(e.VkVoiceAvatar,{size:40,onClick:n[1]||(n[1]=o=>e.inputType=e.InputType.Voice)},null,512),[[f,e.inputType===e.InputType.Text]])],64)):R("v-if",!0),_(r(e.VkSender,{modelValue:e.content,"onUpdate:modelValue":n[2]||(n[2]=o=>e.content=o),"auto-size":!0,placeholder:"请输入内容","send-disabled":e.senderDisabled,loading:e.clientLoading,onSubmit:e.onSubmit,onCancel:e.onCancel},null,8,["modelValue","send-disabled","loading"]),[[f,e.inputType===e.InputType.Text]])])]),_:3})],512),c("div",ze,[T(t.$slots,"background")])])}var h=G(ge,[["render",we],["__file","/home/runner/work/vunk-plus/vunk-plus/packages/components/chat-independent/src/index.vue"]]);h.install=t=>{t.component(h.name||"VkChatIndependent",h)};const Ce={"h-600px":""},Dt=F({__name:"index",setup(t){return(n,i)=>(b(),d("div",Ce,[r(se,null,{default:s(()=>[r(S(h),null,{bubble_renderer:s(()=>[r(S(ce))]),_:1})]),_:1})]))}});export{Dt as default};
