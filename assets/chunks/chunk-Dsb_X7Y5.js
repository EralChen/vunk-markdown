import{b as j}from"./chunk-CiduJpHZ.js";import{u as _,p as u,s as b}from"./chunk-BCmaXBHk.js";import{d as h,t as m,B as l,C as d,l as i,g as v,D as k,b5 as w,b6 as E,a as r}from"./chunk-Dpk1TJd9.js";import{j as T}from"./chunk-B8h3Mgtp.js";/* empty css              */const V=h({props:{source:{type:Array,default:()=>[]}},setup(t){const s=_(),e=m();l(async()=>{d(t.source),await i();const a=t.source.find(f=>f.info?.includes("yaml")||f.info?.includes("json"));e.value=a});const o=v(()=>e.value?.info.includes("json")?e.value.content:""),c=m({});l(async()=>{d(o.value),await i();try{c.value=u(o.value)}catch{try{const a=T(o.value);c.value=u(a)}catch{}}});const n=v(()=>{if(!e.value)return{};try{if(e.value.info.includes("json"))return c.value;if(e.value.info.includes("yaml"))return u(e.value.content)}catch{return{}}return{}}),y=k(a=>{try{s.setOption(a,!0)}catch{}},900,{trailing:!0});return l(()=>{!n.value||!w(n.value)||E(n.value)||i(()=>{y(n.value)})}),()=>null}}),O={modelValue:{type:Object,default:()=>({})}},g={},p=h({name:"VkTemplateEcharts",props:O,emits:g,setup(){return()=>r(j,{type:"container:echarts"},{default:t=>{const s=t.raw.children;return r("div",{class:"vk-template-echarts__wrapper"},[r(b,null,{default:()=>[r(V,{source:s},null)]})])}})}});p.install=t=>{t.component(p.name||"VkTemplateEcharts",p)};export{p as _};
