import{u as a}from"./chunk-Dfc-0vKQ.js";import{EdgeInputBufferLayout as d}from"./chunk-BDlcnR2q.js";import{iG as c}from"./chunk-B0S82j6z.js";import{extract as l,extractEdgeInformation as u,extractComponentsEdgeLocationsLayout as f,extractEdgeLocationsLayout as p}from"./chunk-CkwLdaZ0.js";import"./chunk-DsYbGKja.js";import"./chunk-BuZVacDv.js";/* empty css              */import"./chunk-C80_yQGa.js";class A{async extract(t){const e=o(t),s=l(e),i=[e.data.buffer];return{result:g(s,i),transferList:i}}async extractComponentsEdgeLocations(t){const e=o(t),s=u(e.data,e.skipDeduplicate,e.indices,e.indicesLength),i=c(s,y),r=[];return{result:a(i.regular.instancesData,r),transferList:r}}async extractEdgeLocations(t){const e=o(t),s=u(e.data,e.skipDeduplicate,e.indices,e.indicesLength),i=c(s,L),r=[];return{result:a(i.regular.instancesData,r),transferList:r}}}function o(n){return{data:d.createView(n.dataBuffer),indices:n.indicesType==="Uint32Array"?new Uint32Array(n.indices):n.indicesType==="Uint16Array"?new Uint16Array(n.indices):n.indices,indicesLength:n.indicesLength,writerSettings:n.writerSettings,skipDeduplicate:n.skipDeduplicate}}function g(n,t){return t.push(n.regular.lodInfo.lengths.buffer),t.push(n.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:a(n.regular.instancesData,t),lodInfo:{lengths:n.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:a(n.silhouette.instancesData,t),lodInfo:{lengths:n.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:n.averageEdgeLength}}class m{allocate(t){return p.createBuffer(t)}trim(t,e){return t.slice(0,e)}write(t,e,s){t.position0.setVec(e,s.position0),t.position1.setVec(e,s.position1)}}class h{allocate(t){return f.createBuffer(t)}trim(t,e){return t.slice(0,e)}write(t,e,s){t.position0.setVec(e,s.position0),t.position1.setVec(e,s.position1),t.componentIndex.set(e,s.componentIndex)}}const L=new m,y=new h;export{A as default};
