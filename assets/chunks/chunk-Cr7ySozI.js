import{fs as G,jN as y,lO as W,bx as h,$ as x,iX as M,X as m,lP as w,lQ as S}from"./chunk-CuaFhuP3.js";const j=50,q=5;function N(t,n){return Math.log(t)/Math.log(n)}function O(t,n,s){const a=t===1?10:t;return a**(s?Math.round(N(j/n,a)):0)}function X(t){const{isGeographic:n,isWebMercator:s}=t;return!n&&!s}function P(t,n,s){const a=typeof t=="number"?null:t,e=s??a?.spatialReference;if(e==null||!G(e)||X(e))return y(e);let o=a?.x??t,c=a?.y??n;const u=1/Math.sqrt(2);let l=o+u,i=c+u;const{isWebMercator:$,isGeographic:R}=e;let f=R&&!W(e)?h.WGS84:e;if($){let r=new x({x:o,y:c,spatialReference:e});M(r,!0,r),o=r.x,c=r.y,r=new x({x:l,y:i,spatialReference:e}),M(r,!0,r),l=r.x,i=r.y,f=h.WGS84}const b=new m({paths:[[[o,c],[l,i]]],spatialReference:f}),g=w(b,10);let p;try{[p]=S([g],"meters")}catch{return y(e)}return p}export{X as f,O as l,q as t,P as u};
